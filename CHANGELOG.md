# Changelog
  - **0.9971a - December 15, 2022**
    - Fixed being unable to use the db with room names that contained certain characters (such as hyphens)
    - Added some schema name validation checks
    - Messages that begin with ðŸ¤– will be treated as bot messages
      - This is used with "built-in bots" in scripts such as BillTube
      - These messages will not count towards emote usage counts, will not be stored as quotes, and cannot use inline chat commands
  - **0.997a - December 15, 2022**
    - Bumped some dep versions
      - You must run `npm install` if updating the bot
      - Minimum Node version bumped to 12.20 as a result
      - Discord.js is still at v12 which may or may not work at this point
    - Added config option `advanced.caseInsensitiveEmotes` (default: `false`)
      - If enabled, the bot will check for emotes in messages without any regard for character case. This means your room's emotes MUST NOT have any duplicate names in order to avoid incorrectly recording emote usage. If you don't know what this is for, you don't need it.
    - Added config option `interface.logChat` (default: `true`)
      - Allows you to control whether or not chat messages are written to a log file
    - Added config option `interface.disableLogging` (default: `false`)
      - Allows you to disable ALL logging except error logging
    - Added config option `chat.filters.bold` (default: `"*"`)
      - Used for commands that output bold text
    - Added some error responses to the `bump` command
    - Added some chat commands
      - `fortune` gives users a random fortune based on /s4s/ fortunes. The response sets a certain "luck" amount for the user which is currently used for the `roll` command, where luck determines the amount of lucky rolls the user gets. After the roll, the user's luck is reset to 0.
      - `top5useremotes` can show a user's top 5 used emotes
      - `trigger` allows users to change the bot's command trigger. Will not save the new trigger - the trigger will reset to whatever is in your config when the bot starts again.
    - Disabled dislikes on the `vidstats` chat command.
    - Fixed a crash by automatically creating logs/ and errors/ upon start if they don't exist
    - Attempted to improve psql error handling a bit
      - Certain errors pertaining to connection problems with PostgreSQL no longer crash the bot as they're not necessarily fatal
      - If connection issues occur while `config.db.use` is enabled, the DB no longer disables itself just in case the server comes back
    - Hang on exit somewhat fixed
    - CTRL-C is now allowed once the bot is killed
    - Added some CLI commands
      - `/testdb` helps test if queries are able to reach the SQL server
      - `/trigger` allows you to change the bot's command trigger. Like the chat command, it will not save this trigger.
    - May have fixed an exception that rarely occurs when users leave the room
  - **0.9961a - October 21, 2021**
    - Shortened the permission checks for bot.queueMedia, forgot that the permission check function already does most of the work..
    - ..and fixed bot.queueMedia, thought I removed something before pushing it
  - **0.996a - October 21, 2021**
    - Added bot.queueMedia function to allow the bot to add things to the queue
      - This doesn't have any command associated with it, though. It's there if you'd like to make your own commands. There's a little JSDoc thing above the function definition for reference.
      - An example for adding a simple temporary YouTube video would be: `bot.queueMedia("end", "youtube_video_url", true);`
        - You can also use `"next"` instead of `"end"` to place it next in the queue assuming the bot has permission to.
      - Custom embeds should work too. `bot.queueMedia("end", "customembed", true, "<iframe src='source or whatever'>", "Media Title");`
    - Added `cfg.connection.sameDomainSocketOnly` option to the config, please add this to any existing configs if you need to. It will default to `true` if it does not exist.
      - Only set this to `false` if you need to connect to a socket that does not live on the domain your CyTube fork is on.
      - As far as I know, this is only relevant for some CyTube hosts, and not the main CyTube site.
    - Logged media links (such as "now playing" logs) will have the full link instead of the shortened one
    - Fixed dumb Discord bot oversight causing it to crash for those who use it (probably no one)
    - Removed some room-specific emotes and filters from some commands
      - Probably missed some, oops
    - Added `/mute` and `/unmute` commands to the CLI, which work exactly the same as their chat command counterparts
    - Added the ability for `sendChatMsg` to bypass the mute state, which the CLI command `/say` now does (this is the only command that does so by default)
    - Added some clarification to some comments
    - Now prevents invalid requests to update emote counts if the user is unregistered or a guest and guest data is off
      - Didn't do anything other than spam DB errors
    - Fixed a regular expression used for some wolfram responses
    - Queue fail and queue warn logs should now properly display their messages
    - Fixed issue when chat message was missing from the chatMsg frame
      - This issue is only related to certain forks
    - Updated license dates
  - **0.9951a - January 24, 2021**
    - Fixed a rare bug with chat messages sent by the server
  - **0.995a - December 14, 2020**
    - Increased length of room_time and afk_time for the users table
      - For existing databases, run `ALTER TABLE SCHEMA.users ALTER COLUMN room_time TYPE DECIMAL(13,3);` and again for the column `afk_time`. Be sure to replace SCHEMA with whatever your schema is called, which is usually your room's name.
      - Fixes room times hitting the upper limit within a few months' time.
  - **0.994a - November 8, 2020**
    - Add hyphen (-) to blacklistvid ID regex
  - **0.993a - October 3, 2020**
    - Changed the config option `misc.autoAFK` to a tri-state option. Must be updated in existing configs, or it will be ignored.
      - 0: Off (default)
      - 1: Always AFK
      - 2: Always active
    - `ipban` reason will be padded if it begins with `wrange` or `range`
    - Actually use the `exitCode` passed to `bot.kill` (lol)
    - DB features will be disabled if the connection to the database is refused
